<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-v13.4.0 plugin-docs plugin-id-default docs-doc-id-troubleshooting/troubleshooting-readme" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.3">
<title data-rh="true">How to Troubleshoot and Fix Issues | Cumulus Documentation</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://nasa.github.io/cumulus/docs/v13.4.0/troubleshooting/"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="v13.4.0"><meta data-rh="true" name="docusaurus_tag" content="docs-default-v13.4.0"><meta data-rh="true" name="docsearch:version" content="v13.4.0"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-v13.4.0"><meta data-rh="true" property="og:title" content="How to Troubleshoot and Fix Issues | Cumulus Documentation"><meta data-rh="true" name="description" content="While Cumulus is a complex system, there is a focus on maintaining the integrity and availability of the system and data. Should you encounter errors or issues while using this system, this section will help troubleshoot and solve those issues."><meta data-rh="true" property="og:description" content="While Cumulus is a complex system, there is a focus on maintaining the integrity and availability of the system and data. Should you encounter errors or issues while using this system, this section will help troubleshoot and solve those issues."><link data-rh="true" rel="icon" href="/cumulus/img/cumulus.ico"><link data-rh="true" rel="canonical" href="https://nasa.github.io/cumulus/docs/v13.4.0/troubleshooting/"><link data-rh="true" rel="alternate" href="https://nasa.github.io/cumulus/docs/v13.4.0/troubleshooting/" hreflang="en"><link data-rh="true" rel="alternate" href="https://nasa.github.io/cumulus/docs/v13.4.0/troubleshooting/" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://KBWSJQ0LBW-dsn.algolia.net" crossorigin="anonymous"><link rel="search" type="application/opensearchdescription+xml" title="Cumulus Documentation" href="/cumulus/opensearch.xml">
<script src="https://buttons.github.io/buttons.js"></script><link rel="stylesheet" href="/cumulus/assets/css/styles.d37fa5d4.css">
<link rel="preload" href="/cumulus/assets/js/runtime~main.6d34a879.js" as="script">
<link rel="preload" href="/cumulus/assets/js/main.1257b213.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top navbar--primary"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/cumulus/"><div class="navbar__logo"><img src="/cumulus/img/ic_cumulus_logo_white.svg" alt="" class="themedImage_ToTc themedImage--light_HNdA" height="32" width="32"><img src="/cumulus/img/ic_cumulus_logo_white.svg" alt="" class="themedImage_ToTc themedImage--dark_i4oU" height="32" width="32"></div><b class="navbar__title text--truncate">Cumulus Documentation</b></a><a href="https://nasa.github.io/cumulus-api" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">API Docs<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://nasa.github.io/cumulus-distribution-api" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Distribution API Docs<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/cumulus/docs/v13.4.0/">Developer Docs</a><a class="navbar__item navbar__link" href="/cumulus/docs/v13.4.0/data-cookbooks/about-cookbooks">Data Cookbooks</a><a class="navbar__item navbar__link" href="/cumulus/docs/v13.4.0/operator-docs/about-operator-docs">Operator Docs</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/cumulus/docs/v13.4.0/">v13.4.0</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/cumulus/docs/next/troubleshooting/">Next</a></li><li><a class="dropdown__link" href="/cumulus/docs/troubleshooting/">v19.0.0</a></li><li><a class="dropdown__link" href="/cumulus/docs/v18.4.0/troubleshooting/">v18.4.0</a></li><li><a class="dropdown__link" href="/cumulus/docs/v18.3.4/troubleshooting/">v18.3.4</a></li><li><a class="dropdown__link" href="/cumulus/docs/v18.2.0/troubleshooting/">v18.2.0</a></li><li><a class="dropdown__link" href="/cumulus/docs/v18.1.0/troubleshooting/">v18.1.0</a></li><li><a class="dropdown__link" href="/cumulus/docs/v18.0.0/troubleshooting/">v18.0.0</a></li><li><a class="dropdown__link" href="/cumulus/docs/v17.0.0/troubleshooting/">v17.0.0</a></li><li><a class="dropdown__link" href="/cumulus/docs/v16.1.3/troubleshooting/">v16.1.3</a></li><li><a class="dropdown__link" href="/cumulus/docs/v16.0.0/troubleshooting/">v16.0.0</a></li><li><a class="dropdown__link" href="/cumulus/docs/v15.0.2/troubleshooting/">v15.0.2</a></li><li><a class="dropdown__link" href="/cumulus/docs/v14.1.0/troubleshooting/">v14.1.0</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/cumulus/docs/v13.4.0/troubleshooting/">v13.4.0</a></li><li><a class="dropdown__link" href="/cumulus/docs/v13.0.0/troubleshooting/">v13.0.0</a></li><li><a class="dropdown__link" href="/cumulus/docs/v12.0.0/troubleshooting/">v12.0.0</a></li><li><a class="dropdown__link" href="/cumulus/docs/v11.1.0/troubleshooting/">v11.1.0</a></li><li><a class="dropdown__link" href="/cumulus/docs/v11.0.0/troubleshooting/">v11.0.0</a></li><li><a class="dropdown__link" href="/cumulus/docs/v10.1.0/troubleshooting/">v10.1.0</a></li><li><a class="dropdown__link" href="/cumulus/docs/v10.0.0/troubleshooting/">v10.0.0</a></li><li><a class="dropdown__link" href="/cumulus/docs/v9.9.0/troubleshooting/">v9.9.0</a></li><li><a class="dropdown__link" href="/cumulus/docs/v9.0.0/troubleshooting/">v9.0.0</a></li><li><hr class="dropdown-separator"></li><li><a class="dropdown__link" href="/cumulus/versions">All versions</a></li></ul></div><a href="https://github.com/nasa/cumulus" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="Cumulus Core GitHub Repository"></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/cumulus/docs/v13.4.0/">Getting Started</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/cumulus/docs/v13.4.0/architecture">About Cumulus</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/cumulus/docs/v13.4.0/workflows/">Overviews</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/cumulus/docs/v13.4.0/deployment/">Deployment</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/cumulus/docs/v13.4.0/configuration/data-management-types">Configuration</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/cumulus/docs/v13.4.0/workflows/developing-a-cumulus-workflow">Development</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/cumulus/docs/v13.4.0/tasks">Workflow Tasks</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/cumulus/docs/v13.4.0/features/backup_and_restore">Features</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/cumulus/docs/v13.4.0/troubleshooting/">Troubleshooting</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/cumulus/docs/v13.4.0/troubleshooting/">How to Troubleshoot and Fix Issues</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/cumulus/docs/v13.4.0/troubleshooting/troubleshooting-deployment">Troubleshooting Deployment</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/cumulus/docs/v13.4.0/troubleshooting/rerunning-workflow-executions">Re-running workflow executions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/cumulus/docs/v13.4.0/troubleshooting/troubleshooting-deployment">Troubleshooting Deployment</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/cumulus/docs/v13.4.0/troubleshooting/reindex-elasticsearch">Reindexing Elasticsearch Guide</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/cumulus/docs/v13.4.0/adding-a-task">Cumulus Development</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/cumulus/docs/v13.4.0/integrator-guide/about-int-guide">Integrator Guide</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/cumulus/docs/v13.4.0/upgrade-notes/migrate_tea_standalone">Upgrade Notes</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/cumulus/docs/v13.4.0/external-contributions/">External Contributions</a></div></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/cumulus/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Troubleshooting</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">How to Troubleshoot and Fix Issues</span><meta itemprop="position" content="2"></li></ul></nav><span class="theme-doc-version-badge badge badge--secondary">Version: v13.4.0</span><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>How to Troubleshoot and Fix Issues</h1></header><p>While Cumulus is a complex system, there is a focus on maintaining the integrity and availability of the system and data. Should you encounter errors or issues while using this system, this section will help troubleshoot and solve those issues.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="backup-and-restore">Backup and Restore<a href="#backup-and-restore" class="hash-link" aria-label="Direct link to Backup and Restore" title="Direct link to Backup and Restore">​</a></h2><p>Cumulus has backup and restore functionality built-in to protect Cumulus data and allow recovery of a Cumulus stack. This is currently limited to Cumulus data and not full S3 archive data. Backup and restore is not enabled by default and must be enabled and configured to take advantage of this feature.</p><p>For more information, read the <a href="/cumulus/docs/v13.4.0/features/backup_and_restore#backup-and-restore-with-aws">Backup and Restore documentation</a>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="elasticsearch-reindexing">Elasticsearch reindexing<a href="#elasticsearch-reindexing" class="hash-link" aria-label="Direct link to Elasticsearch reindexing" title="Direct link to Elasticsearch reindexing">​</a></h2><p>If you run into issues with your Elasticsearch index, a reindex operation is available via the Cumulus API. See
the <a href="/cumulus/docs/v13.4.0/troubleshooting/reindex-elasticsearch">Reindexing Guide</a>.</p><p>Information on how to reindex Elasticsearch is in the <a href="https://nasa.github.io/cumulus-api/#elasticsearch-1" target="_blank" rel="noopener noreferrer">Cumulus API  documentation</a>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="troubleshooting-workflows">Troubleshooting Workflows<a href="#troubleshooting-workflows" class="hash-link" aria-label="Direct link to Troubleshooting Workflows" title="Direct link to Troubleshooting Workflows">​</a></h2><p>Workflows are state machines comprised of tasks and services and each component logs to <a href="https://aws.amazon.com/cloudwatch" target="_blank" rel="noopener noreferrer">CloudWatch</a>. The CloudWatch logs for all steps in the execution are displayed in the Cumulus dashboard or you can find them by going to CloudWatch and navigating to the logs for that particular task.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="workflow-errors">Workflow Errors<a href="#workflow-errors" class="hash-link" aria-label="Direct link to Workflow Errors" title="Direct link to Workflow Errors">​</a></h3><p>Visual representations of executed workflows can be found in the Cumulus dashboard or the AWS Step Functions console for that particular execution.</p><p>If a workflow errors, the error will be handled according to the <a href="/cumulus/docs/v13.4.0/data-cookbooks/error-handling">error handling configuration</a>. The task that fails will have the <code>exception</code> field populated in the output, giving information about the error. Further information can be found in the CloudWatch logs for the task.</p><p><img loading="lazy" alt="Graph of AWS Step Function execution showing a failing workflow" src="/cumulus/assets/images/workflow-fail-f23d0f5db7fbcae42f233757e7aa4478.png" width="312" height="380" class="img_ev3q"></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="workflow-did-not-start">Workflow Did Not Start<a href="#workflow-did-not-start" class="hash-link" aria-label="Direct link to Workflow Did Not Start" title="Direct link to Workflow Did Not Start">​</a></h3><p>Generally, first check your rule configuration. If that is satisfactory, the answer will likely be in the CloudWatch logs for the schedule SF or SF starter lambda functions. See the <a href="/cumulus/docs/v13.4.0/workflows/workflow-triggers">workflow triggers</a> page for more information on how workflows start.</p><p>For Kinesis and SNS rules specifically, if an error occurs during the message consumer process, the fallback consumer lambda will be called and if the message continues to error, a message will be placed on the dead letter queue. Check the dead letter queue for a failure message. Errors can be traced back to the CloudWatch logs for the message consumer and the fallback consumer. Additionally, check that the name and version match those configured in your rule, as rules are filtered by the notification&#x27;s collection name and version before scheduling executions.</p><p>More information on kinesis error handling is <a href="/cumulus/docs/v13.4.0/data-cookbooks/cnm-workflow#kinesis-record-error-handling">here</a>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="operator-api-errors">Operator API Errors<a href="#operator-api-errors" class="hash-link" aria-label="Direct link to Operator API Errors" title="Direct link to Operator API Errors">​</a></h2><p>All operator API calls are funneled through the <code>ApiEndpoints</code> lambda. Each API call is logged to the <code>ApiEndpoints</code> CloudWatch log for your deployment.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="lambda-errors">Lambda Errors<a href="#lambda-errors" class="hash-link" aria-label="Direct link to Lambda Errors" title="Direct link to Lambda Errors">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="kms-exception-accessdeniedexception">KMS Exception: AccessDeniedException<a href="#kms-exception-accessdeniedexception" class="hash-link" aria-label="Direct link to KMS Exception: AccessDeniedException" title="Direct link to KMS Exception: AccessDeniedException">​</a></h3><p><code>KMS Exception: AccessDeniedExceptionKMS Message: The ciphertext refers to a customer master key that does not exist, does not exist in this region, or you are not allowed to access.</code></p><p>The above error was being thrown by cumulus lambda function invocation. The KMS key is the encryption key used to encrypt lambda environment variables. The root cause of this error is unknown, but is speculated to be caused by deleting and recreating, with the same name, the IAM role the lambda uses.</p><p>This error can be resolved by switching the lambda&#x27;s execution role to a different one and then back through the Lambda management console. Unfortunately, this approach doesn&#x27;t scale well.</p><p>The other resolution (that scales but takes some time) that was found is as follows:</p><ol><li>Comment out all lambda definitions (and dependent resources) in your Terraform configuration.</li><li><code>terraform apply</code> to delete the lambdas.</li><li>Un-comment the definitions.</li><li><code>terraform apply</code> to recreate the lambdas.</li></ol><p>If this problem occurs with Core lambdas and you are using the <code>terraform-aws-cumulus.zip</code> file source distributed in our release, we recommend using the non-scaling approach as the number of lambdas we distribute is in the low teens, which are likely to be easier and faster to reconfigure one-by-one compared to editing our configs.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="error-unable-to-import-module-index-error">Error: Unable to import module &#x27;index&#x27;: Error<a href="#error-unable-to-import-module-index-error" class="hash-link" aria-label="Direct link to Error: Unable to import module &#x27;index&#x27;: Error" title="Direct link to Error: Unable to import module &#x27;index&#x27;: Error">​</a></h3><p>This error is shown in the CloudWatch logs for a Lambda function.</p><p>One possible cause is that the Lambda definition in the <code>.tf</code> file defining the lambda is not pointing to the correct packaged lambda source file. In order to resolve this issue, update the lambda definition to point directly to the packaged (e.g. <code>.zip</code>) lambda source file.</p><div class="language-hcl codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-hcl codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">resource &quot;aws_lambda_function&quot; &quot;discover_granules_task&quot; {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  function_name    = &quot;${var.prefix}-DiscoverGranules&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  filename         = &quot;${path.module}/../../tasks/discover-granules/dist/lambda.zip&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  handler          = &quot;index.handler&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>If you are seeing this error when using the Lambda as a step in a Cumulus workflow, then inspect the output for this Lambda step in the AWS Step Function console. If you see the error <code>Cannot find module &#x27;node_modules/@cumulus/cumulus-message-adapter-js&#x27;</code>, then you need to ensure the lambda&#x27;s packaged dependencies include <code>cumulus-message-adapter-js</code>.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"></div><div class="col lastUpdated_vwxv"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2023-03-10T00:04:48.000Z">Mar 10, 2023</time></b> by <b>jennyhliu</b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/cumulus/docs/v13.4.0/features/replay-archived-sqs-messages"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">How to replay SQS messages archived in S3</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/cumulus/docs/v13.4.0/troubleshooting/troubleshooting-deployment"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Troubleshooting Deployment</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#backup-and-restore" class="table-of-contents__link toc-highlight">Backup and Restore</a></li><li><a href="#elasticsearch-reindexing" class="table-of-contents__link toc-highlight">Elasticsearch reindexing</a></li><li><a href="#troubleshooting-workflows" class="table-of-contents__link toc-highlight">Troubleshooting Workflows</a><ul><li><a href="#workflow-errors" class="table-of-contents__link toc-highlight">Workflow Errors</a></li><li><a href="#workflow-did-not-start" class="table-of-contents__link toc-highlight">Workflow Did Not Start</a></li></ul></li><li><a href="#operator-api-errors" class="table-of-contents__link toc-highlight">Operator API Errors</a></li><li><a href="#lambda-errors" class="table-of-contents__link toc-highlight">Lambda Errors</a><ul><li><a href="#kms-exception-accessdeniedexception" class="table-of-contents__link toc-highlight">KMS Exception: AccessDeniedException</a></li><li><a href="#error-unable-to-import-module-index-error" class="table-of-contents__link toc-highlight">Error: Unable to import module &#39;index&#39;: Error</a></li></ul></li></ul></div></div></div></div></main></div></div></div>
<script src="/cumulus/assets/js/runtime~main.6d34a879.js"></script>
<script src="/cumulus/assets/js/main.1257b213.js"></script>
</body>
</html>