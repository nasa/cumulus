<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-v9.0.0 plugin-docs plugin-id-default docs-doc-id-features/ems_reporting" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.3">
<title data-rh="true">EMS Reporting | Cumulus Documentation</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://nasa.github.io/cumulus/docs/v9.0.0/features/ems_reporting"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="v9.0.0"><meta data-rh="true" name="docusaurus_tag" content="docs-default-v9.0.0"><meta data-rh="true" name="docsearch:version" content="v9.0.0"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-v9.0.0"><meta data-rh="true" property="og:title" content="EMS Reporting | Cumulus Documentation"><meta data-rh="true" name="description" content="Cumulus reports usage statistics to the ESDIS Metrics System (EMS)."><meta data-rh="true" property="og:description" content="Cumulus reports usage statistics to the ESDIS Metrics System (EMS)."><link data-rh="true" rel="icon" href="/cumulus/img/cumulus.ico"><link data-rh="true" rel="canonical" href="https://nasa.github.io/cumulus/docs/v9.0.0/features/ems_reporting"><link data-rh="true" rel="alternate" href="https://nasa.github.io/cumulus/docs/v9.0.0/features/ems_reporting" hreflang="en"><link data-rh="true" rel="alternate" href="https://nasa.github.io/cumulus/docs/v9.0.0/features/ems_reporting" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://KBWSJQ0LBW-dsn.algolia.net" crossorigin="anonymous"><link rel="search" type="application/opensearchdescription+xml" title="Cumulus Documentation" href="/cumulus/opensearch.xml">
<script src="https://buttons.github.io/buttons.js"></script><link rel="stylesheet" href="/cumulus/assets/css/styles.d37fa5d4.css">
<link rel="preload" href="/cumulus/assets/js/runtime~main.6d34a879.js" as="script">
<link rel="preload" href="/cumulus/assets/js/main.1257b213.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top navbar--primary"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/cumulus/"><div class="navbar__logo"><img src="/cumulus/img/ic_cumulus_logo_white.svg" alt="" class="themedImage_ToTc themedImage--light_HNdA" height="32" width="32"><img src="/cumulus/img/ic_cumulus_logo_white.svg" alt="" class="themedImage_ToTc themedImage--dark_i4oU" height="32" width="32"></div><b class="navbar__title text--truncate">Cumulus Documentation</b></a><a href="https://nasa.github.io/cumulus-api" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">API Docs<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://nasa.github.io/cumulus-distribution-api" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Distribution API Docs<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/cumulus/docs/v9.0.0/">Developer Docs</a><a class="navbar__item navbar__link" href="/cumulus/docs/v9.0.0/data-cookbooks/about-cookbooks">Data Cookbooks</a><a class="navbar__item navbar__link" href="/cumulus/docs/v9.0.0/operator-docs/about-operator-docs">Operator Docs</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/cumulus/docs/v9.0.0/">v9.0.0</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/cumulus/docs/next/">Next</a></li><li><a class="dropdown__link" href="/cumulus/docs/">v19.0.0</a></li><li><a class="dropdown__link" href="/cumulus/docs/v18.4.0/">v18.4.0</a></li><li><a class="dropdown__link" href="/cumulus/docs/v18.3.4/">v18.3.4</a></li><li><a class="dropdown__link" href="/cumulus/docs/v18.2.0/">v18.2.0</a></li><li><a class="dropdown__link" href="/cumulus/docs/v18.1.0/">v18.1.0</a></li><li><a class="dropdown__link" href="/cumulus/docs/v18.0.0/">v18.0.0</a></li><li><a class="dropdown__link" href="/cumulus/docs/v17.0.0/">v17.0.0</a></li><li><a class="dropdown__link" href="/cumulus/docs/v16.1.3/">v16.1.3</a></li><li><a class="dropdown__link" href="/cumulus/docs/v16.0.0/">v16.0.0</a></li><li><a class="dropdown__link" href="/cumulus/docs/v15.0.2/">v15.0.2</a></li><li><a class="dropdown__link" href="/cumulus/docs/v14.1.0/">v14.1.0</a></li><li><a class="dropdown__link" href="/cumulus/docs/v13.4.0/">v13.4.0</a></li><li><a class="dropdown__link" href="/cumulus/docs/v13.0.0/">v13.0.0</a></li><li><a class="dropdown__link" href="/cumulus/docs/v12.0.0/">v12.0.0</a></li><li><a class="dropdown__link" href="/cumulus/docs/v11.1.0/">v11.1.0</a></li><li><a class="dropdown__link" href="/cumulus/docs/v11.0.0/">v11.0.0</a></li><li><a class="dropdown__link" href="/cumulus/docs/v10.1.0/">v10.1.0</a></li><li><a class="dropdown__link" href="/cumulus/docs/v10.0.0/">v10.0.0</a></li><li><a class="dropdown__link" href="/cumulus/docs/v9.9.0/">v9.9.0</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/cumulus/docs/v9.0.0/features/ems_reporting">v9.0.0</a></li><li><hr class="dropdown-separator"></li><li><a class="dropdown__link" href="/cumulus/versions">All versions</a></li></ul></div><a href="https://github.com/nasa/cumulus" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="Cumulus Core GitHub Repository"></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/cumulus/docs/v9.0.0/">Getting Started</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/cumulus/docs/v9.0.0/architecture">About Cumulus</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/cumulus/docs/v9.0.0/workflows/">Overviews</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/cumulus/docs/v9.0.0/deployment/">Deployment</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/cumulus/docs/v9.0.0/configuration/data-management-types">Configuration</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/cumulus/docs/v9.0.0/workflows/developing-a-cumulus-workflow">Development</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/cumulus/docs/v9.0.0/tasks">Workflow Tasks</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/cumulus/docs/v9.0.0/features/backup_and_restore">Features</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/cumulus/docs/v9.0.0/features/backup_and_restore">Cumulus Backup and Restore</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/cumulus/docs/v9.0.0/features/data_in_dynamodb">Cumulus Metadata in DynamoDB</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/cumulus/docs/v9.0.0/features/dead_letter_queues">Dead Letter Queues</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/cumulus/docs/v9.0.0/features/ems_reporting">EMS Reporting</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/cumulus/docs/v9.0.0/features/execution_payload_retention">Execution Payload Retention</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/cumulus/docs/v9.0.0/features/reports">Reconciliation Reports</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/cumulus/docs/v9.0.0/features/lambda_versioning">Lambda Versioning</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/cumulus/docs/v9.0.0/features/ancillary_metadata">Ancillary Metadata Export</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/cumulus/docs/v9.0.0/features/distribution-metrics">Cumulus Distribution Metrics</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/cumulus/docs/v9.0.0/features/logging-esdis-metrics">Writing logs for ESDIS Metrics</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/cumulus/docs/v9.0.0/features/replay-kinesis-messages">How to replay Kinesis messages after an outage</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/cumulus/docs/v9.0.0/troubleshooting/">Troubleshooting</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/cumulus/docs/v9.0.0/adding-a-task">Cumulus Development</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/cumulus/docs/v9.0.0/integrator-guide/about-int-guide">Integrator Guide</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/cumulus/docs/v9.0.0/upgrade-notes/migrate_tea_standalone">Upgrade Notes</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/cumulus/docs/v9.0.0/external-contributions/">External Contributions</a></div></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/cumulus/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Features</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">EMS Reporting</span><meta itemprop="position" content="2"></li></ul></nav><span class="theme-doc-version-badge badge badge--secondary">Version: v9.0.0</span><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>EMS Reporting</h1></header><p>Cumulus reports usage statistics to the <a href="https://earthdata.nasa.gov/about/science-system-description/eosdis-components/esdis-metrics-system-ems" target="_blank" rel="noopener noreferrer">ESDIS Metrics System (EMS)</a>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="collection-configuration">Collection Configuration<a href="#collection-configuration" class="hash-link" aria-label="Direct link to Collection Configuration" title="Direct link to Collection Configuration">​</a></h2><p>By default, a collection and its related records (Ingest, Distribution etc.) will be reported to EMS if the collection exists in both Cumulus and CMR.  We can also configure to not report a collection to EMS by setting the collection configuration parameter <code>reportToEms</code> set to <code>false</code>.  If the collection has been reported to EMS, it can only be removed manually by the EMS team.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="types-of-reports">Types of Reports<a href="#types-of-reports" class="hash-link" aria-label="Direct link to Types of Reports" title="Direct link to Types of Reports">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="product-metadata">Product Metadata<a href="#product-metadata" class="hash-link" aria-label="Direct link to Product Metadata" title="Direct link to Product Metadata">​</a></h3><p>Cumulus creates a nightly Product Metadata report.  The Product Metadata report provides ancillary information about the products (collections) in Cumulus, and this information is required before EMS can process ingest and distribution reports.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ingest">Ingest<a href="#ingest" class="hash-link" aria-label="Direct link to Ingest" title="Direct link to Ingest">​</a></h3><p>Cumulus creates three ingest related reports for EMS: Ingest, Archive and Archive Delete.</p><p>The Ingest report contains records of all granules that have been ingested into Cumulus.</p><p>The Archive report contains records of all granules that have been archived into Cumulus.  It&#x27;s similar to Ingest report.</p><p>The Archive Delete report lists granules that were reported to the EMS and now have been deleted from Cumulus.</p><p>A scheduled Lambda task will run nightly that generates Ingest, Archive and Archive Delete reports.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="distribution">Distribution<a href="#distribution" class="hash-link" aria-label="Direct link to Distribution" title="Direct link to Distribution">​</a></h3><p>Cumulus reports all data distribution requests that pass through the distribution API to EMS. In order to track these requests, S3 server access logging must be enabled on all protected buckets.</p><p>You must manually enable logging for each bucket before distribution logging will work, see <a href="/cumulus/docs/v9.0.0/configuration/server_access_logging">S3 Server Access Logging.</a></p><p>A scheduled Lambda task will run nightly that collects distribution events and builds an EMS distribution report.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="report-submission">Report Submission<a href="#report-submission" class="hash-link" aria-label="Direct link to Report Submission" title="Direct link to Report Submission">​</a></h2><p>Information about requesting EMS account can be found on EMS website.  Here are basic steps in order to submit reports to EMS.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="1-get-a-provider-account-on-the-ems-file-server-and-obtain-access-to-their-uat-or-ops-environment">1) Get a provider account on the EMS file server and obtain access to their UAT or OPS environment<a href="#1-get-a-provider-account-on-the-ems-file-server-and-obtain-access-to-their-uat-or-ops-environment" class="hash-link" aria-label="Direct link to 1) Get a provider account on the EMS file server and obtain access to their UAT or OPS environment" title="Direct link to 1) Get a provider account on the EMS file server and obtain access to their UAT or OPS environment">​</a></h3><p>Provide IP addresses, data provider name , contact information (primary and secondary) to EMS, and EMS will set up account and firewall rules to allow applications to send files to EMS.
For Cumulus instances running on NGAP, the IP address should be the Elastic IP (IPv4 Public IP field) of the <code>NGAP NAT Instance</code> in EC2, and that should be the IP that EMS firewall sees for any instance in that account.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="2-request-updates-on-ngap-nacl">2) Request updates on NGAP NACL<a href="#2-request-updates-on-ngap-nacl" class="hash-link" aria-label="Direct link to 2) Request updates on NGAP NACL" title="Direct link to 2) Request updates on NGAP NACL">​</a></h3><p>For Cumulus instances running on NGAP, submit a <a href="https://bugs.earthdata.nasa.gov/servicedesk/customer/portals" target="_blank" rel="noopener noreferrer">NGAP service desk ticket</a>, and specify &quot;Exception / Enhancement” request for “Network / Whitelist” changes to the account, that will add EMS host IP to the NACL (Network Access Control List) to allow outbound traffic from NGAP Application VPCs to EMS host.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="3-send-public-key-to-ems-lambda-will-provide-private-key-when-sftp-files-to-ems">3) Send public key to EMS. Lambda will provide private key when sftp files to EMS<a href="#3-send-public-key-to-ems-lambda-will-provide-private-key-when-sftp-files-to-ems" class="hash-link" aria-label="Direct link to 3) Send public key to EMS. Lambda will provide private key when sftp files to EMS" title="Direct link to 3) Send public key to EMS. Lambda will provide private key when sftp files to EMS">​</a></h3><p>Upload the corresponding private key to s3, use <code>system_bucket</code> as bucket name and <code>{prefix}/crypto/ems-private.pem</code> as key,  <code>system_bucket</code> and <code>prefix</code> are configured in your deployment&#x27;s <code>terraform.tfvars</code> file.  If a different private key file name other than <code>ems-private.pem</code> is used, specify it in the <code>ems_private_key</code> configuration in <code>terraform.tfvars</code>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="4-create-a-data-manifest-file-manually-and-send-it-to-ems-team-and-ems-team-will-configure-the-data-provider-on-their-side--example-configuration-of-the-data-manifest-file-can-be-found-in-cumulus-cores-example">4) Create a data manifest file manually and send it to EMS team, and EMS team will configure the data provider on their side.  <em>Example configuration of the data manifest file can be found in Cumulus core&#x27;s <a href="https://github.com/nasa/cumulus/blob/master/example/data/ems" target="_blank" rel="noopener noreferrer">example</a></em><a href="#4-create-a-data-manifest-file-manually-and-send-it-to-ems-team-and-ems-team-will-configure-the-data-provider-on-their-side--example-configuration-of-the-data-manifest-file-can-be-found-in-cumulus-cores-example" class="hash-link" aria-label="Direct link to 4-create-a-data-manifest-file-manually-and-send-it-to-ems-team-and-ems-team-will-configure-the-data-provider-on-their-side--example-configuration-of-the-data-manifest-file-can-be-found-in-cumulus-cores-example" title="Direct link to 4-create-a-data-manifest-file-manually-and-send-it-to-ems-team-and-ems-team-will-configure-the-data-provider-on-their-side--example-configuration-of-the-data-manifest-file-can-be-found-in-cumulus-cores-example">​</a></h3><h3 class="anchor anchorWithStickyNavbar_LWe7" id="5-create-a-data-collection-to-send-to-ems--the-report-will-be-automatically-generated-and-submit-to-ems-and-this-step-will-be-deleted-after-cumulus-1273-is-completed">5) Create a data collection to send to EMS.  The report will be automatically generated and submit to EMS, and this step will be deleted after <a href="https://bugs.earthdata.nasa.gov/browse/CUMULUS-1273" target="_blank" rel="noopener noreferrer">CUMULUS-1273</a> is completed<a href="#5-create-a-data-collection-to-send-to-ems--the-report-will-be-automatically-generated-and-submit-to-ems-and-this-step-will-be-deleted-after-cumulus-1273-is-completed" class="hash-link" aria-label="Direct link to 5-create-a-data-collection-to-send-to-ems--the-report-will-be-automatically-generated-and-submit-to-ems-and-this-step-will-be-deleted-after-cumulus-1273-is-completed" title="Direct link to 5-create-a-data-collection-to-send-to-ems--the-report-will-be-automatically-generated-and-submit-to-ems-and-this-step-will-be-deleted-after-cumulus-1273-is-completed">​</a></h3><h3 class="anchor anchorWithStickyNavbar_LWe7" id="6-configure-the-ems-configuration-variables-passed-to-the-cumulus-terraform-module-example-configuration-of-the-ems-variables-can-be-found-in-cumulus-cores-example">6) Configure the <code>ems*</code> configuration variables passed to the <code>cumulus</code> terraform module. <em>Example configuration of the <code>ems*</code> variables can be found in Cumulus core&#x27;s <a href="https://github.com/nasa/cumulus/blob/master/example/cumulus-tf/terraform.tfvars.example" target="_blank" rel="noopener noreferrer">example</a></em><a href="#6-configure-the-ems-configuration-variables-passed-to-the-cumulus-terraform-module-example-configuration-of-the-ems-variables-can-be-found-in-cumulus-cores-example" class="hash-link" aria-label="Direct link to 6-configure-the-ems-configuration-variables-passed-to-the-cumulus-terraform-module-example-configuration-of-the-ems-variables-can-be-found-in-cumulus-cores-example" title="Direct link to 6-configure-the-ems-configuration-variables-passed-to-the-cumulus-terraform-module-example-configuration-of-the-ems-variables-can-be-found-in-cumulus-cores-example">​</a></h3><p>If  <code>ems_submit_report</code> is not set to <code>true</code> in the configuration, the reports are still generated in <code>s3://{buckets.internal.name}/{prefix}/ems/{filename}</code> for Product Metadata and Ingest reports, and <code>s3://{buckets.internal.name}/{prefix}/ems-distribution/reports/{filename}</code> for Distribution reports, but they won&#x27;t be submitted to EMS.</p><p>Submitted reports will be saved to <code>sent</code> folder.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="report-status">Report Status<a href="#report-status" class="hash-link" aria-label="Direct link to Report Status" title="Direct link to Report Status">​</a></h2><ol><li>EMS processes the reports and generates error reports which it sends to the provider&#x27;s point of contacts.</li><li>APEX EMS Reporting system allows users access to ingest, archive, distribution, and error metrics.  The user with &#x27;power user&#x27; privilege can also view the <code>Data Provider Status</code> and the status of flat files.</li></ol><p>The operator can submit an IdMAX request in <a href="https://idmax.nasa.gov/nams" target="_blank" rel="noopener noreferrer">NASA Access Management System (NAMS)</a> to get access to <code>GSFC ESDIS Metric System (EMS)</code>.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"></div><div class="col lastUpdated_vwxv"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2023-03-10T00:04:48.000Z">Mar 10, 2023</time></b> by <b>jennyhliu</b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/cumulus/docs/v9.0.0/features/dead_letter_queues"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Dead Letter Queues</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/cumulus/docs/v9.0.0/features/execution_payload_retention"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Execution Payload Retention</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#collection-configuration" class="table-of-contents__link toc-highlight">Collection Configuration</a></li><li><a href="#types-of-reports" class="table-of-contents__link toc-highlight">Types of Reports</a><ul><li><a href="#product-metadata" class="table-of-contents__link toc-highlight">Product Metadata</a></li><li><a href="#ingest" class="table-of-contents__link toc-highlight">Ingest</a></li><li><a href="#distribution" class="table-of-contents__link toc-highlight">Distribution</a></li></ul></li><li><a href="#report-submission" class="table-of-contents__link toc-highlight">Report Submission</a><ul><li><a href="#1-get-a-provider-account-on-the-ems-file-server-and-obtain-access-to-their-uat-or-ops-environment" class="table-of-contents__link toc-highlight">1) Get a provider account on the EMS file server and obtain access to their UAT or OPS environment</a></li><li><a href="#2-request-updates-on-ngap-nacl" class="table-of-contents__link toc-highlight">2) Request updates on NGAP NACL</a></li><li><a href="#3-send-public-key-to-ems-lambda-will-provide-private-key-when-sftp-files-to-ems" class="table-of-contents__link toc-highlight">3) Send public key to EMS. Lambda will provide private key when sftp files to EMS</a></li><li><a href="#4-create-a-data-manifest-file-manually-and-send-it-to-ems-team-and-ems-team-will-configure-the-data-provider-on-their-side--example-configuration-of-the-data-manifest-file-can-be-found-in-cumulus-cores-example" class="table-of-contents__link toc-highlight">4) Create a data manifest file manually and send it to EMS team, and EMS team will configure the data provider on their side.  <em>Example configuration of the data manifest file can be found in Cumulus core&#39;s example</em></a></li><li><a href="#5-create-a-data-collection-to-send-to-ems--the-report-will-be-automatically-generated-and-submit-to-ems-and-this-step-will-be-deleted-after-cumulus-1273-is-completed" class="table-of-contents__link toc-highlight">5) Create a data collection to send to EMS.  The report will be automatically generated and submit to EMS, and this step will be deleted after CUMULUS-1273 is completed</a></li><li><a href="#6-configure-the-ems-configuration-variables-passed-to-the-cumulus-terraform-module-example-configuration-of-the-ems-variables-can-be-found-in-cumulus-cores-example" class="table-of-contents__link toc-highlight">6) Configure the <code>ems*</code> configuration variables passed to the <code>cumulus</code> terraform module. <em>Example configuration of the <code>ems*</code> variables can be found in Cumulus core&#39;s example</em></a></li></ul></li><li><a href="#report-status" class="table-of-contents__link toc-highlight">Report Status</a></li></ul></div></div></div></div></main></div></div></div>
<script src="/cumulus/assets/js/runtime~main.6d34a879.js"></script>
<script src="/cumulus/assets/js/main.1257b213.js"></script>
</body>
</html>