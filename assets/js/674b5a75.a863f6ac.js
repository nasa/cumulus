"use strict";(self.webpackChunk_cumulus_website=self.webpackChunk_cumulus_website||[]).push([[87386],{15680(e,n,t){t.d(n,{xA:()=>m,yg:()=>g});var o=t(296540);function i(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function r(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,o)}return t}function a(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?r(Object(t),!0).forEach(function(n){i(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):r(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function l(e,n){if(null==e)return{};var t,o,i=function(e,n){if(null==e)return{};var t,o,i={},r=Object.keys(e);for(o=0;o<r.length;o++)t=r[o],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(o=0;o<r.length;o++)t=r[o],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}var s=o.createContext({}),u=function(e){var n=o.useContext(s),t=n;return e&&(t="function"==typeof e?e(n):a(a({},n),e)),t},m=function(e){var n=u(e.components);return o.createElement(s.Provider,{value:n},e.children)},p={inlineCode:"code",wrapper:function(e){var n=e.children;return o.createElement(o.Fragment,{},n)}},c=o.forwardRef(function(e,n){var t=e.components,i=e.mdxType,r=e.originalType,s=e.parentName,m=l(e,["components","mdxType","originalType","parentName"]),c=u(t),g=i,d=c["".concat(s,".").concat(g)]||c[g]||p[g]||r;return t?o.createElement(d,a(a({ref:n},m),{},{components:t})):o.createElement(d,a({ref:n},m))});function g(e,n){var t=arguments,i=n&&n.mdxType;if("string"==typeof e||i){var r=t.length,a=new Array(r);a[0]=c;var l={};for(var s in n)hasOwnProperty.call(n,s)&&(l[s]=n[s]);l.originalType=e,l.mdxType="string"==typeof e?e:i,a[1]=l;for(var u=2;u<r;u++)a[u]=t[u];return o.createElement.apply(null,a)}return o.createElement.apply(null,t)}c.displayName="MDXCreateElement"},434089(e,n,t){t.r(n),t.d(n,{assets:()=>m,contentTitle:()=>s,default:()=>g,frontMatter:()=>l,metadata:()=>u,toc:()=>p});var o=t(58168),i=t(198587),r=(t(296540),t(15680)),a=["components"],l={},s="Pre-commit Setup for Cumulus",u={unversionedId:"development/pre-commit-setup",id:"development/pre-commit-setup",title:"Pre-commit Setup for Cumulus",description:"This project now has pre-commit hooks configured to automatically run linting and formatting tools on your changes before they're committed.",source:"@site/../docs/development/pre-commit-setup.md",sourceDirName:"development",slug:"/development/pre-commit-setup",permalink:"/cumulus/docs/next/development/pre-commit-setup",draft:!1,tags:[],version:"current",lastUpdatedBy:"Paul Pilone",lastUpdatedAt:1769186940,formattedLastUpdatedAt:"Jan 23, 2026",frontMatter:{},sidebar:"docs",previous:{title:"Cumulus Documentation: How To's",permalink:"/cumulus/docs/next/docs-how-to"},next:{title:"Versioning and Releases",permalink:"/cumulus/docs/next/development/release"}},m={},p=[{value:"How It Works",id:"how-it-works",level:2},{value:"Installation",id:"installation",level:2},{value:"Usage",id:"usage",level:2},{value:"Automatic (Recommended)",id:"automatic-recommended",level:3},{value:"Manual Runs",id:"manual-runs",level:3},{value:"Skip Hooks (not recommended)",id:"skip-hooks-not-recommended",level:3},{value:"Uninstall",id:"uninstall",level:2},{value:"Configuration Files Used",id:"configuration-files-used",level:2},{value:"Important Notes",id:"important-notes",level:2},{value:"Troubleshooting",id:"troubleshooting",level:2},{value:"Common Issues",id:"common-issues",level:3},{value:"Updating Hooks",id:"updating-hooks",level:3}],c={toc:p};function g(e){var n=e.components,t=(0,i.A)(e,a);return(0,r.yg)("wrapper",(0,o.A)({},c,t,{components:n,mdxType:"MDXLayout"}),(0,r.yg)("h1",{id:"pre-commit-setup-for-cumulus"},"Pre-commit Setup for Cumulus"),(0,r.yg)("p",null,"This project now has pre-commit hooks configured to automatically run linting and formatting tools on your changes before they're committed."),(0,r.yg)("h2",{id:"how-it-works"},"How It Works"),(0,r.yg)("p",null,"The pre-commit configuration uses your existing project tools and configuration files:"),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("strong",{parentName:"li"},"ESLint"),": Uses your ",(0,r.yg)("inlineCode",{parentName:"li"},".eslintrc.js")," configuration with ",(0,r.yg)("inlineCode",{parentName:"li"},"--fix")," for auto-fixing"),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("strong",{parentName:"li"},"Ruff (Python)"),": Uses your ",(0,r.yg)("inlineCode",{parentName:"li"},"pyproject.toml")," configuration for linting and formatting"),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("strong",{parentName:"li"},"Markdown"),": Uses your ",(0,r.yg)("inlineCode",{parentName:"li"},".markdownlint.json")," configuration"),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("strong",{parentName:"li"},"Package.json"),": Uses your existing ",(0,r.yg)("inlineCode",{parentName:"li"},"npmPkgJsonLint")," configuration"),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("strong",{parentName:"li"},"TypeScript"),": Runs compilation check using your ",(0,r.yg)("inlineCode",{parentName:"li"},"tsconfig.json")," files")),(0,r.yg)("h2",{id:"installation"},"Installation"),(0,r.yg)("p",null,"You can install pre-commit by running the following command in the root directory (where the root pyproject.toml sits):"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-sh"},"uv sync --group lint\n")),(0,r.yg)("p",null,"Next, install the required pre-commit hooks:"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-sh"},"npm run precommit:install\n")),(0,r.yg)("h2",{id:"usage"},"Usage"),(0,r.yg)("h3",{id:"automatic-recommended"},"Automatic (Recommended)"),(0,r.yg)("p",null,"Once installed, the hooks will run automatically on each commit. If any issues are found:"),(0,r.yg)("ol",null,(0,r.yg)("li",{parentName:"ol"},(0,r.yg)("strong",{parentName:"li"},"Auto-fixable issues")," (formatting, trailing whitespace, etc.) will be fixed automatically"),(0,r.yg)("li",{parentName:"ol"},(0,r.yg)("strong",{parentName:"li"},"Manual fixes required")," - the commit will be blocked until you fix the issues"),(0,r.yg)("li",{parentName:"ol"},(0,r.yg)("strong",{parentName:"li"},"Re-run the commit")," after fixes are applied")),(0,r.yg)("h3",{id:"manual-runs"},"Manual Runs"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-sh"},"# Run on all files\nnpm run precommit:run\n\n# Run on staged files only\nuv run pre-commit run\n\n# Run specific hook\nuv run pre-commit run eslint\nuv run pre-commit run ruff-check\n")),(0,r.yg)("h3",{id:"skip-hooks-not-recommended"},"Skip Hooks (not recommended)"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-sh"},'# Skip all hooks for a commit\ngit commit --no-verify -m "commit message"\n\n# Skip specific hooks\nSKIP=eslint git commit -m "commit message"\n')),(0,r.yg)("h2",{id:"uninstall"},"Uninstall"),(0,r.yg)("p",null,"If you need to remove the pre-commit hooks:"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-sh"},"npm run precommit:uninstall\n")),(0,r.yg)("h2",{id:"configuration-files-used"},"Configuration Files Used"),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("inlineCode",{parentName:"li"},".eslintrc.js")," - JavaScript/TypeScript linting rules"),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("inlineCode",{parentName:"li"},"pyproject.toml")," - Python linting and formatting (Ruff)"),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("inlineCode",{parentName:"li"},".markdownlint.json")," - Markdown linting rules"),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("inlineCode",{parentName:"li"},"npmpackagejsonlint.config.js")," - Package.json linting rules"),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("inlineCode",{parentName:"li"},"tsconfig.json")," / ",(0,r.yg)("inlineCode",{parentName:"li"},"tsconfig.eslint.json")," - TypeScript compilation")),(0,r.yg)("p",null,"All rules are centralized in these existing configuration files, so there's no duplication."),(0,r.yg)("h2",{id:"important-notes"},"Important Notes"),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},"Pre-commit uses your existing configuration files, keeping all your code standards in one place")),(0,r.yg)("h2",{id:"troubleshooting"},"Troubleshooting"),(0,r.yg)("h3",{id:"common-issues"},"Common Issues"),(0,r.yg)("ol",null,(0,r.yg)("li",{parentName:"ol"},(0,r.yg)("strong",{parentName:"li"},"JSON/YAML format errors"),": Fix the syntax errors in the reported files"),(0,r.yg)("li",{parentName:"ol"},(0,r.yg)("strong",{parentName:"li"},"Large files"),": Use ",(0,r.yg)("inlineCode",{parentName:"li"},"git add --force")," for legitimate large files or add to ",(0,r.yg)("inlineCode",{parentName:"li"},".gitattributes")),(0,r.yg)("li",{parentName:"ol"},(0,r.yg)("strong",{parentName:"li"},"Performance"),": Large repos may take time on first run (subsequent runs are faster due to caching)")),(0,r.yg)("h3",{id:"updating-hooks"},"Updating Hooks"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-sh"},"uv run pre-commit autoupdate\n")))}g.isMDXComponent=!0}}]);